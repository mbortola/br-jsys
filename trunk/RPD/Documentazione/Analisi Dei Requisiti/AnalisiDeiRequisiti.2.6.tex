
\documentclass[11pt,titlepage,a4paper]{report}

%INCLUSIONE PACCHETTI
%---------------------------------------------
\usepackage[italian]{babel}
\usepackage{fancyhdr}
\usepackage{graphicx}
\graphicspath{{./pics/}} % cartella di salvataggio immagini

% STILE DI PAGINA
%---------------------------------------------
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\lhead{\nouppercase{\rightmark}}
\rhead{\nouppercase{\leftmark}}
\renewcommand{\chaptermark}[1]{%
\markboth{\thechapter.\ #1}{}}

%Ridefinisco lo stile plain della pagina
\fancypagestyle{plain}{%
	\lhead{\includegraphics[height=50pt]{logo.eps}}
	\chead{}
	\rhead{HappyCode inc \\ happycodeinc@gmail.com}
	\lfoot{BR-jsys}
	\cfoot{\thepage}
	\rfoot{\dt - \lv}
	\renewcommand{\headrulewidth}{1pt}
	\renewcommand{\footrulewidth}{1pt}
}


\begin{document}

%definizione variabili 
\newcommand{\lv}{2.6} % latest version
\newcommand{\dt}{ Analisi Dei Requisiti }% Document title
\newcommand{\Glossario}{ Glossario.1.4.pdf }
%fine definizione variabili



\hyphenation{glos-sa-rio es-pli-ci-to ve-ri-fi-ca-re re-po-si-to-ry se-gna-la-ta coe-ren-za}
\begin{titlepage}\begin{center}
\vspace*{0.5in}
\includegraphics{logo.eps}
\vspace*{0.2in} \\
{\Large \textbf{BR-jsys}}
{\Large \emph{business rules} per sistemi gestionali in architettura J2EE } 
\vspace{2in} \\
\Huge \textsc{ \dt }
\par\rule{10cm}{0.4pt} \par {\large Versione \lv - \today} \\
\end{center}\end{titlepage}
\vspace*{0.5in}


\begin{center}
\thispagestyle{plain}
\begin{table}[htbp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Capitolato: ''BR-jsys``}}} \\
\begin{tabular}{||p{6cm}||p{6cm}||} \hline
\textbf{Data creazione:} & 18/11/2007 \\ \hline
\textbf{Versione:} & \lv \\ \hline
\textbf{Stato del documento:} & formale, esterno \\ \hline
% ----------------------------------------------------------------------------autori
\textbf{Revisione RR} &    \\ \hline
\textbf{Redazione:} & Michele Bortolato, Alessia Trivellato \\ \hline
\textbf{Revisione:} &   Marco Tessarotto \\ \hline
\textbf{Approvazione:}  & Elena Trivellato\\ \hline
\textbf{Revisione RPD} & \\ \hline 
\textbf{Redazione:} & Marco Tessarotto \\ \hline
\textbf{Revisione:} &  Alessia Trivellato, Michele Bortolato \\ \hline
\textbf{Approvazione:}  & Elena Trivellato \\ \hline
\end{tabular} \\
\end{tabular}
}
\end{table}

\begin{table}[hbtp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Lista di distribuzione}}} \\
\begin{tabular}{||p{6cm}||p{6cm}||} \hline
%  -------------------------------------------------------------lista di distribuzione
{HappyCode inc}& Gruppo di lavoro\\ \hline
{Tullio Vardanega, Renato Conte}& Rappresentanti del committente \\ \hline 
{Zucchetti S.r.l}& Azienda committente\\ \hline
\end{tabular} \\
\end{tabular}
}
\end{table}
\begin{table}[hbtp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Diario delle modifiche}}} \\
\begin{tabular}{||p{2cm}||p{3.5cm}||p{6cm}||} \hline
\textbf{Versione} & \textbf{Dafile:///usr/share/ubuntu-artwork/home/index.htmlta rilascio} & \textbf{Descrizione} \\ \hline
%-------------------------------------------------------------------------------diario modifiche
2.6 & 2008/02/14 & Correzione sintattica e grammaticale\\ \hline
2.5 & 2008/02/11 & Deprecato requisito F9 e modificato i requisiti F4 e F8\\ \hline
2.4 & 2008/02/05 & Aggiunta del nome del file nel modello di documento\\ \hline
2.3 & 2008/02/04 & Correzione grammaticale\\ \hline
2.2 & 2008/01/22 & Modifica al layout dei documenti e prima correzione grammaticale\\ \hline
2.1 & 2008/01/21 & Modifiche in conseguenza del secondo incontro con l'azienda\\ \hline
2.0 & 2008/01/10 & Inserito tracciamento dei requisiti\\ \hline
1.4 & 2008/01/09 & Modifiche alla struttura del documento e all'ordine dei paragrafi\\ \hline
1.3 & 2008/01/03 & Modifiche ai casi d'uso e alla loro analisi\\ \hline
1.2 & 2007/12/21 & Documento sottoposto a revisionamento automatico\\ \hline
1.1 & 2007/12/03 & Correzioni grammaticali, correzioni strutturali\\ \hline
1.0 & 2007/11/28 & Inserimento casi d'uso\\ \hline
0.2 & 2007/11/22 & Aggiornamento requisiti \\ \hline
0.1 & 2007/11/18 & Stesura preliminare del documento \\ \hline

\end{tabular} 
\end{tabular}

}
\end{table}
\end{center}
\newpage

\tableofcontents

\chapter{Introduzione}
\section{Scopo del documento}
Il presente documento viene redatto al fine di identificare i requisiti presenti nel capitolato d'appalto denominato ``BR-jsys'', conseguire il raggiungimento dell'obiettivo richiesto e soddisfare le esigenze di tutti gli stakeholders coinvolti nella realizzazione del progetto di cui sopra.
\section{Scopo del prodotto}
Il prodotto andr\`a inserito in un progetto pi\`u ampio. Il suo obiettivo \`e quello di testare la consistenza di business objects, altrimenti difficilmente verificabile tramite vincoli relazionali.
Verr\`a creato quindi un linguaggio per la definizione di business rules. Quest'ultime verranno immagazzinate in un \textit{file repository}; nel momento in cui l'utente avr\`a bisogno di verificare la consistenza di un business object, un interprete si preoccuper\`a di invocare ed eseguire le regole che lo riguardano, stabilendo cos\`i se esso le rispetta tutte o meno.
Il progetto dovr\`a integrarsi infine con le componenti gi\`a sviluppate dall'azienda committente. In particolare dovr\`a interfacciarsi con il loro interprete, il quale dovr\`a poi applicare le regole ai business objects.
\section{Definizioni, acronimi, abbreviazioni}
Nella tabella di seguito vengono riportate tutte le abbreviazioni utlizzate nel documento, comprese le sigle utilizzate per il tracciamento dei requisiti.
\begin{center}
\begin{tabular}{||p{3.0cm}||p{8.5cm}||} \hline
\textbf{Abbreviazione} & \textbf{Significato} \\ \hline
C04 & Indica il quarto capitolato d'appalto denominato BR-jsys.\\ \hline
I01 & Indica il primo incontro avuto con il proponente descritto nel documento Incontro2007-11-22.pdf\\ \hline
I02 & Indica il secondo incontro avuto con il proponente descritto nel documento Incontro2008-01-17.pdf\\ \hline
F\textit{\#} & Con F seguito da un numero intero sono indicati i requisiti funzionali.\\ \hline
NU\textit{\#} & Con NU seguito da un numero intero sono indicati i requisiti di usabilit\`a.\\ \hline
NPo\textit{\#} & Con NPo seguito da un numero intero sono indicati i requisiti di portabilit\`a.\\ \hline
NPr\textit{\#} & Con Npr seguito da un numero intero sono indicati i requisiti di prestazionali.\\ \hline
NQ\textit{\#} & Con NQ seguito da un numero intero sono indicati i requisiti di qualit\`a.\\ \hline

\end{tabular} \\
\end{center}
\subsection{Glossario}
Per gli altri termini non citati nella tabella soprastante si fa riferimento al file esterno \Glossario .
\section{Riferimenti}
\begin{itemize}
\item Capitolato d'appalto concorso per sistema ``BR-jsys'';
\item Verbale dell'incontro con il committente ``Incontro2007-11-22.pdf'';
\item Verbale dell'incontro con il committente ``Incontro2008-02-05.pdf'';
\item ``Ingegneria del Software'' 8a edizione - Ian Sommerville.
\end{itemize}
%----------------------------------------------------------------------------------inserire il libro 
\section{Descrizione del resto del documento}
Di seguito viene descritto il sistema designato dalla sigla ``BR-jsys''. Viene inoltre brevemente descritta la sua funzionalit\`a, la tipologia di utenti ed il contesto d'uso. L'analisi del sistema viene presentata con l'ausilio di un formalismo grafico: i diagrammi use-case UML. Vengono infine riportati tutti i requisiti individuati dalla \textit{Happycode Inc.} .

\chapter{Descrizione generale}
\section{Prospettiva del prodotto}
Il sistema va a collocarsi all'interno di un progetto globale di automazione nella generazione del codice per la produzione di software gestionale. In particolare si occuper\`a della gestione delle business rules, definendo un linguaggio con cui descriverle, oltre ad un sistema di archiviazione-recupero delle stesse.
\section{Funzioni del prodotto}
Il sistema si occupa di definire un linguaggio con cui descrivere business rules. Pi\`u concretamente dovr\`a verificare che le business rules inserite dall'utente rispettino il linguaggio sopra citato. In caso di esito positivo dovranno essere inserite in un repository, dal quale potranno poi essere recuperate nel momento in cui si desideri verificare la consistenza di un business object.
\section{Caratteristiche utente}
Il sistema andr\`a inserito all'interno di un progetto pi\`u ampio, il cui utente finale \`e un individuo esperto in ambito commerciale e gestionale, ma non necessariamente in ambito informatico.
\section{Vincoli generali}
Il linguaggio di programmazione adottato per lo sviluppo del prodotto sar\`a Java. Il sistema dovr\`a inoltre potersi interfacciare con le componenti gi\`a sviluppate dall'azienda committente. 
\section{Presupposti e dipendenze}
\begin{itemize}
\item{Le business rules su cui si opera saranno di tipo \textit{Rejector}. Una business rule deve essere composta da uno o pi\`u confronti tra espressioni dello stesso tipo (eventualmente complesse).}
\item{I business objects che manipoleremo sono generalmente costituiti da campi dati semplici (numeri reali, booleani, stringhe), da un insieme di array o vettori omogenei tutti della stessa lunghezza (derivanti da tabelle) e da riferimenti ad altri business objects (ma non da array di business objects). \item[NQ4]{ OPZIONALE :   }
}
\item{La virtual machine utilizzata  per sviluppare gli oggetti richiesti \`e Java 1.5.}
\end{itemize}

\chapter{Requisiti Specifici}
Per illustrare e rendere pi\`u chiaro il sistema e le sue componenti, verranno qui presi in considerazione dei diagrammi use-case UML. Verranno elencati in seguito i requisiti individuati, ognuno dei quali preceduto da una sigla identificativa e seguito da una sigla che indica il documento da cui proviene.


\section{Inserimento e cancellazione di business rule.}
\begin{center}
 \includegraphics[width=1\textwidth]{Inserisci-regola.eps}
\end{center}

\subsection{Inserisci nuova business rule.}
\underline{Attori coinvolti:} L'utente finale che desidera inserire nel repository una nuova business rule.\\
\underline{Scopo e descrizione sintetica:} Il sistema riceve in ingresso una nuova business rule che dovr\`a essere validata.\\
\underline{Flusso di eventi:} Il sistema acquisisce la nuova business rule appena inserita dall'utente e la invia successivamente al validatore.\\
\underline{Precondizioni:} L'utente ha inserito una nuova business rule.\\
\underline{Postcondizioni} La business rule viene inviata al validatore.

\subsection{Valida business rule.}
\underline{Scopo e descrizione sintetica:} Il validatore riceve in ingresso la business rule e si preoccupa di eseguire una serie di controlli per la sua validazione.\\
\underline{Flusso di eventi:} Il validatore una volta acquisita la business rule la sottopone a diversi controlli per poterla validare.\\
\underline{Precondizioni:} Il sistema ha acquisito una nuova business rule.\\
\underline{Postcondizioni} La business rule viene inviata alla componente che valida la sintassi.
 
\subsection{Controlla sintassi.}
\underline{Scopo e descrizione sintetica:} Si controlla che la nuova business rule sia formulata secondo le specifiche e la sintassi del linguaggio scelto.\\
\underline{Flusso di eventi:} Viene controllata la sintassi della nuova business rule appena inserita.\\
\underline{Precondizioni:} Il validatore ha inviato la business rule al controllo della sintassi.\\
\underline{Postcondizioni} La business rule pu\`o avanzare al successivo controllo.

\subsection{Controlla la semantica.}
\underline{Scopo e descrizione sintetica:} Si controllano i tipi nella nuova business rule e si verificano che i campi dati utilizzati siano realmente presenti nel business object associato.\\
\underline{Flusso di eventi:} Vengono controllati i tipi nella business rule e la corrispondenza tra i campi dati usati nella business rule e quelli presenti nel business object ad essa associato.\\
\underline{Precondizioni:} Il validatore ha inviato la business rule al controllo semantico.\\
\underline{Postcondizioni} La business rule \`e pronta per essere inserita nel \textit{repository}.

\subsection{Restituisci messaggio di errore.}
\underline{Attori coinvolti:} L'utente finale che ha cercato di inserire una nuova business rule e non ci \`e riuscito.\\
\underline{Scopo e descrizione sintetica:} Il sistema comunica all'utente che la business rule inserita presenta degli errori.\\
\underline{Flusso di eventi:} Il sistema  a fronte di un errore nella validazione della business rule invia una segnalazione dell'errore all'utente.\\
\underline{Precondizioni:} La validazione non \`e andata a buon fine.\\
\underline{Postcondizioni} L'utente riceve un messaggio che lo informa dell'errore commesso nella creazione della nuova business rule.

\subsection{Richiedi al DBMS di inserire nel repository.}
\underline{Attori coinvolti:} Il DBMS che si preoccuper\`a di inserire la regola nel repository.\\
\underline{Scopo e descrizione sintetica:} Il sistema comunica al DBMS che la business rule \`e stata validata e pu\`o essere inserita nel repository.\\
\underline{Flusso di eventi:} Il sistema  terminata la validazione invia la business rule al DBMS che si preoccuper\`a di inserirla nel \textit{repository}.\\
\underline{Precondizioni:} La validazione \`e terminata senza errori.\\
\underline{Postcondizioni} Il DBMS inserir\`a la business rule nel \textit{repository}.

\subsection{Richiedi al DBMS di cancellare dal repository.}
\underline{Attori coinvolti:} L'utente finale che richiede al sistema di cancellare una business rule dal repository e il DBMS che si preoccuper\`a di cancellarla.\\
\underline{Scopo e descrizione sintetica:} Il sistema mette in comunicazione l'utente finale col DBMS richiedendo al DBMS la cancellazione della business rule indicata dall'utente\\
\underline{Flusso di eventi:} Il sistema riceve la richiesta di cancellazione di una business rule e la comunica al DBMS.\\
\underline{Precondizioni:} L'utente ha chiesto che una determinata business rule venga cancellata.\\
\underline{Postcondizioni} Il DBMS canceller\`a la business rule dal \textit{repository}.


\section{Recupera business rules.}
\begin{center}
 \includegraphics[width=1\textwidth]{Recupera-regole.eps}\
\end{center}

\subsection{Gestione della richiesta.}
\underline{Attori coinvolti:} L'interprete esterno fornito dall'azienda che richiede la validazione di un business object.\\
\underline{Scopo e descrizione sintetica:} Il sistema riceve una richiesta di validazione per un business object.\\
\underline{Flusso di eventi:} Il sistema ha ricevuto la richiesta di validazione per un determinato business object.\\
\underline{Precondizioni:} L'utente ha richiesto di validare un business object.\\
\underline{Postcondizioni} Recupero delle regole pertinenti dal DBMS .

\subsection{Recupera business rules pertinenti.}
\underline{Attori coinvolti:} Il DBMS che si occuper\`a di recuperare le regole\\
\underline{Scopo e descrizione sintetica:} Il sistema chiede al DBMS di recuperare le regole dal repository.\\
\underline{Flusso di eventi:} Il sistema richiede al DBMS di estrarre dal repository tutte le regole riguardanti quel business object.\\
\underline{Precondizioni:} Il sistema ha acquisito la richiesta di validazione per un determinato business object.\\
\underline{Postcondizioni} Il DBMS riceve la richiesta di recuperare delle business rules dal repository.
\subsection{Manda le business rules all'interprete.}
\underline{Attori coinvolti:} L'interprete esterno fornito dall'azienda che riceve le business rules per poter validare il suo business object.\\
\underline{Scopo e descrizione sintetica:} Il sistema ricevute le regole dal DBMS le invia all'interprete esterno.\\
\underline{Flusso di eventi:} Il sistema ricevute dal DBMS tutte le regole riguardanti un determinato business object le invia all'interprete esterno.\\
\underline{Precondizioni:} Il DBMS ha terminato il recupero di tutte le business rules che riguardano il business object dato.\\
\underline{Postcondizioni} L'interprete utilizzer\`a le business rules appena ricevute.

\section{Requisiti funzionali}
\begin{itemize}
\item[F1]{Si dovr\`a creare un linguaggio per la rappresentazione di business rules. [C04]}
\item[F2]{Il sistema dovr\`a fornire un validatore che consenta l'accettazione di nuove business rules soltanto se esse sono scritte secondo le specifiche del linguaggio creato. [C04]}
\item[F3]{Il sistema dov\`a inserire nel repository la nuova business rule dopo la sua accettazione da parte del validatore. [C04]}
\item[F4]{Il sistema deve informare l'utente dell'esito della validazione di una nuova business rule. Se la validazione \`e andata a buon fine l'utente deve essere informato in maniera chiara del buon esito e del tempo di risposta della validazione. Se la regola non viene accettata l'utente deve essere informato in maniera chiara di dove la sua regola non rispetta le specifiche del linguaggio. [C04]}
\item[F5]{Nell'interagire col repository il sistema dovr\'a appoggiarsi ad un DBMS esterno. [I02]}
\item[F6]{Il sistema deve essere in grado di interfacciarsi con l'interprete esterno fornito dall'azienda proponente provvedendo ad esso le regole business da eseguire. [I02]}
\item[F7]{Il sistema dovr\`a consentire la cancellazione di business rules all'interno del repository. [I02]}
\item[F8]{Il sistema dovr\`a essere dotato di un'interfaccia grafica minimale che consenta di definire una nuova business rule e una volta validata inserirla nel repository. Tale interfaccia dovr\`a inoltre consentire di cancellare business rules dal repository. Tutto ci\`o servir\`a a testare in modo rapido e chiaro il corretto funzionamento del prodotto. [I02]}
\item[F9]{ DEPRECATO : Il validatore deve essere dotato di un metodo per il controllo di coerenza tra business rules. Esso verificher\`a cio\`e se la business rule da inserire nel repository entra in conflitto con le altre gi\`a presenti. Pi\`u dettagliatamente tale validatore dovr\`a verificare che le business rules presenti nel repository rappresentino un insieme soddisfacibile e non rigettino un qualunque insieme di valori possibili per i business objects. [C04]}
\item[F10]{Il validatore nel validare una business rule deve poter accedere ai campi del business object ad essa associato, qualora la business rule utilizzi tali campi. [I02]}
\item[F11]{Ad ogni business rule \`e associato un business object nel quale vanno eventualmente ricercati i campi dati utilizzati nella business rule. [I02]}
\end{itemize}

\section{Requisiti di usabilit\`a}
\begin{itemize}
\item[NU1]{Il linguaggio dovr\`a essere di alto livello. Dovr\`a cio\`e essere semplice da capire per un utente con bassa conoscenza informatica. [I01]}
\item[NU2]{Il linguaggio deve fornire funzioni primitive per le operazioni base tra i dati, come la somma, la media aritmetica e la negazione logica. [I01]}
\item[NU3]{Ad ognuno dei confronti presenti in una business rule deve essere possibile, da parte dell'utente, associare un messaggio che aiuti l'utente finale (ossia quello che chiede la validazione di un business object) a capire dove la validazione ha riscontrato problemi. [I02]}
\end{itemize}

\section{Requisiti di portabilit\`a}
\begin{itemize}
\item[NPo1]{Il formato di salvataggio delle business rules e del repository deve essere XML. [C04]}
\end{itemize}
\section{Requisiti prestazionali}
\begin{itemize}
 \item[NPr1]{Il DBMS che andr\`a a interagire con il repository dovr\`a garantire una buona velocit\`a nell'interrogazione (mediante query) del file XML, anche in presenza di un consistente popolamento dello stesso. [I02]}
\item[NPr2]{Ad ogni business rule deve venire associata una stringa identificativa univoca per consentire un'efficiente indicizzazione business rules nel repository. [I02]}
\end{itemize}

\section{Requisiti di qualit\`a}
\begin{itemize}
\item[NQ1]{Il linguaggio dovr\`a permettere tutte le operazioni consentite tra scalari e matrici. Il validatore di conseguenza valider\`a solo le operazioni consentite. [I01]}
\item[NQ2]{Il progetto verr\`a accompagnato da un manuale che descriver\`a il linguaggio di definizione delle business rules. [C04]}
\item[NQ3]{Il progetto verr\`a accompagnato dalla descrizione delle API relative al validatore e al DBMS. [C04]}
\end{itemize}
\newpage


\end{document}
