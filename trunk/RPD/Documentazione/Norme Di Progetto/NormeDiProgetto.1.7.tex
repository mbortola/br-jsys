\documentclass[11pt,titlepage,a4paper]{report}

%INCLUSIONE PACCHETTI
%---------------------------------------------
\usepackage[italian]{babel}
\usepackage{fancyhdr}
\usepackage{graphicx}
\graphicspath{{./pics/}} % cartella di salvataggio immagini

% STILE DI PAGINA
%---------------------------------------------
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\lhead{\nouppercase{\rightmark}}
\rhead{\nouppercase{\leftmark}}
\renewcommand{\chaptermark}[1]{%
\markboth{\thechapter.\ #1}{}}

%Ridefinisco lo stile plain della pagina
\fancypagestyle{plain}{%
	\lhead{\includegraphics[height=50pt]{logo.eps}}
	\chead{}
	\rhead{HappyCode inc \\ happycodeinc@gmail.com}
	\lfoot{BR-jsys}
	\rfoot{\dt - \lv}
	\cfoot{\thepage}
	\renewcommand{\headrulewidth}{1pt}
	\renewcommand{\footrulewidth}{1pt}
}
	\lhead{\includegraphics[height=50pt]{logo.eps}}
	\chead{}
	\rhead{HappyCode inc \\ happycodeinc@gmail.com}
	\lfoot{BR-jsys}
	\rfoot{\dt - \lv}
	\cfoot{\thepage}
	\renewcommand{\headrulewidth}{1pt}
	\renewcommand{\footrulewidth}{1pt}

\begin{document}

%definizione variabili 
\newcommand{\lv}{ 2.0 } % latest version1.9 & 2008/02/05 & Aggiunta del nome del file nel modello di documento.\\ \hline
\newcommand{\dt}{ Norme Di Progetto }% Document title
\newcommand{\Glossario}{ Glossario.1.8.pdf }
%fine definizione variabili



\hyphenation{glos-sa-rio es-pli-ci-to ve-ri-fi-ca-re re-po-si-to-ry se-gna-la-ta coe-ren-za}
\begin{titlepage}\begin{center}
\vspace*{0.5in}
\includegraphics{logo.eps}
\vspace*{0.2in} \\
{\Large \textbf{BR-jsys}}
{\Large \emph{business rules} per sistemi gestionali in architettura J2EE } 
\vspace{2in} \\
\Huge \textsc{ \dt }
\par\rule{10cm}{0.4pt} \par {\large Versione \lv - \today} \\
\end{center}\end{titlepage}
\vspace*{0.5in}




\begin{center}
\thispagestyle{plain}
\begin{table}[htbp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Capitolato: ''BR-jsys``}}} \\
\begin{tabular}{||p{6cm}||p{6cm}||}
\hline
\textbf{Data creazione:} & 12/11/07 \\
\hline
\textbf{Versione:} & \lv \\ \hline
% ----------------------------------------------------------------------------autori
\textbf{Stato del documento:} & Formale ad uso Interno \\ \hline
\textbf{Revisione RR} &      \\ \hline
\textbf{Redazione:} & Filippo Carraro \\ \hline
\textbf{Revisione:} & Marco Tessarotto \\ \hline
\textbf{Approvazione:}  & Elena Trivellato\\ \hline
\textbf{Revisione RPD} & \\ \hline
\textbf{Redazione:} & Elena Trivellato \\ \hline
\textbf{Revisione:} & Filippo Carraro \\ \hline
\textbf{Approvazione:} & Mattia Meroi \\ \hline
\end{tabular} \\
\end{tabular}
}
\end{table}

\begin{table}[hbtp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Lista di distribuzione}}} \\
\begin{tabular}{||p{6cm}||p{6cm}||} \hline
%  -------------------------------------------------------------lista di distribuzione
{Tutta la HappyCode inc}& Gruppo di lavoro \\ \hline
\end{tabular} \\
\end{tabular}
}
\end{table}

\begin{table}[hbtp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Diario delle modifiche}}} \\
\begin{tabular}{||p{2cm}||p{3.5cm}||p{6cm}||} \hline
%-------------------------------------------------------------------------------diario modifiche
\textbf{Versione} & \textbf{Data rilascio} & \textbf{Descrizione} \\ \hline
2.0 & 2008/02/15 & Correzione errori ortografici.\\ \hline
1.9 & 2008/02/05 & Aggiunta del nome del file nel modello di documento.\\ \hline
1.8 & 31/01/2008 & Riorganizzazione dei capitoli. Aggiunta delle norme per la codifica degli statements. Modifica alle Norme di comportamento e alle Norme di documento. \\ \hline
1.7 & 30/01/2008 & Modifica al layout degli esempi.\\ \hline
1.6 & 30/01/2008 & Aggiunta del capitolo 'Linee e spazi bianchi'\\ \hline
1.5 & 28/01/2008 & Aggiunta del capitolo 'Dichiarazioni'\\ \hline
1.4 & 25/01/2008 & Aggiunta dei capitoli 'Indentazione' e 'Commenti'\\ \hline
1.3 & 24/01/2008 & Aggiunta del capitolo 'File Java'\\ \hline
1.2 & 23/01/2008 & Aggiunta del capitolo 'Condivisione, archiviazione e versionamento dei file'\\ \hline
1.1 & 22/01/2008 & Modifica al layout dei documenti.\\ \hline
1.0 & 21/12/2007 & Documento sottoposto a revisionamento automatico.\\ \hline
0.3 & 03/12/2007 & Revisione del documento. Modifiche al Comportamento generale e all'uso dello spazio web in Google Groups. \\ \hline
0.2 & 26/11/2007 & Revisione del documento. Correzione errori ortografici. \\ \hline
0.1 & 12/11/2007 & Stesura preliminare delle norme per i documenti. \\ \hline
\end{tabular} \\
\end{tabular}

}
\end{table}
\end{center}


\newpage
\tableofcontents 

\chapter{Introduzione}
\section{Scopo del documento}
Questo documento ha lo scopo di fornire una lista di norme generali sia per il comportamento dei vari membri del gruppo, sia per la stesura di tutta la documentazione interna ed esterna. L'obiettivo \`e quello di fissare delle norme di codifica ben precise, in modo da poter migliorare la leggibilit\`a del codice e facilitarne la comprensione. Tutti i componenti del gruppo dovranno attenersi a tali regole.
\section{Riferimenti}
\begin{itemize}
\item ``Ingegneria del software'' 8a edizione - Ian Sommerville 
\item Molte delle norme di codifica sono state scritte riferendosi alle convenzioni sul codice java della Sun Microsystems.
\end{itemize}
\section{Glossario}
Il glossario viene fornito come file esterno chiamato \Glossario .

\chapter{Norme di Comportamento}
\section{Uso della Mail del Gruppo}
La mail verr\`a utilizzata principalmente come mezzo di comunicazione con cui rivolgersi a committente e proponente. Ogni membro del gruppo ha accesso, previa autenticazione, alla mail del gruppo.
\section{Uso dello spazio web in Google Groups}
Lo spazio web in Google Groups raggiungibile tramite il seguente URL: \({http://groups.google.com/group/happycodeinc}\) \`e riservato ai soli membri del gruppo. Dovr\`a essere utilizzato per:
\begin{itemize}
\item  Gestire discussioni su argomenti non chiari;
\item Condividere pagine statiche contenenti risorse pertinenti i linguaggi e gli strumenti utilizzati.
\item Condividere file utili allo sviluppo del progetto, come manuali e tutorial.
\end{itemize}
\section{Comportamento Generale}
Ad ogni componente del gruppo verr\`a richiesto di partecipare alla stesura dei documenti e del codice. Il documento verr\`a creato inserendo l'elenco dei capitoli, delle sezioni e delle sottosezioni all'interno di un modello in latex. Una volta creato il documento dovr\`a poi essere caricato nel repository SVN, nel solo formato \texttt{.tex} .
\section[Condivisione dei file]{Condivisione, archiviazione e versionamento dei file}
Per garantire la correttezza di ogni documento e file condiviso, a fronte di cambiamenti (anche simultanei) da parte di tutto il gruppo, verr\`a  utilizzato un server SVN con opportuni client grafici (RapidSVN, KdeSvn). Verr\`a garantita in questo modo l'atomicit\`a di ogni aggiornamento inviato al repository.\\ 
Il server Subversion utilizzato dal gruppo (versione 1.4.0) \`e messo a disposizione da Google all'indirizzo \textit{http://code.google.com/p/br-jsys/}.
\newline
 \newline
Ogni membro del gruppo \`e tenuto a utilizzare il server SVN , eseguendo un \textit{update} prima di ogni modifica ed eseguendo un \textit{commit} al termine della stessa.

\chapter{Norme di Documento}
\section{Nomenclatura}
In questo capitolo verranno illustrate le norme per la nomenclatura dei file sorgente. I nomi dei file dovranno essere significativi rispetto al loro contenuto. Inoltre:
\begin{itemize}
\item Potranno essere usati solo caratteri dell'alfabeto inglese dalla ``a'' alla ``z'' , minuscole e maiuscole;
\item Non dovranno essere utilizzati catteri speciali;
\item Non dovranno essere utilizzati catteri accentati;
\item I nomi utilizzati non dovranno contenere spazi;
\item Se il nome da utilizzare \`e composto da piu' parole, queste dovranno essere disposte come in questo esempio: \\
``EsempioDiNomeFile''
\item Alla fine del nome del file dovr\`a esserci il codice identificativo dell'ultima versione del documento.
Esempio di un nome corretto:\\
``NormeDiProgetto.0.1''
\end{itemize}
\section{Impaginazione documenti}
Questa seziona descriver\`a l'impaginazione dei documenti ad uso interno ed esterno. Di seguito verr\`a fornita la lista delle regole da seguire per la corretta stesura di un documento.
\subsection{Struttura documento}
Ogni documento sar\`a composto di queste parti:
\begin{enumerate}
\item Una prima pagina con il logo del gruppo, titolo del documento, versione e data ultima modifica;
\item Una seconda parte composta da tre tabelle contenti:
	{\begin{itemize}
	\item Data creazione (anno,mese,giorno),versione,stato del documento, redazione,revisione,approvazione.
	\item Lista di Distribuzione
	\item Diario delle modifiche (dalla versione pi\`u recente fino alla prima stesura del documento)
	\end{itemize}}
\item L'indice dei contenuti;
\item I contenuti del documento;
\end{enumerate}
\`E fornito un modello di documento generale ModelloUnicoDiLayout.tex, nel quale sono state applicate le regole date precedentemente. Il modello va utilizzato per la prima stesura di ogni nuovo documento.
\subsection{Intestazione/Pi\`e di pagina}
L'intestazione e il pi\`e di pagina verranno generati automaticamente corretti dal file .tex con i relativi loghi, il numero della pagina e i titoli dei capitoli.
\subsection{Carattere Testo e Titoli}
Il formato (dimensione e font utilizzato) sono quelli standard per un documento latek e sono parte del Modello.
\subsection{Immagini}
Le immagini inserite nel corpo del documento dovranno essere necessariamente salvate nella cartella pics. Per garantire la massima qualit\`a dell'immagine ogni immagine dovr\`a essere nel formato vettoriale \textit{.eps} (Encapsulate PostScript).

\chapter{Norme di codifica}
\section{File sorgente}
Ogni file sorgente dovr\`a contenere una sola classe pubblica o interfaccia. I file sorgente dovranno avere il seguente ordine:
\begin{itemize}
\item Commenti iniziali;
\item Statements di Import e dichiarazioni di Package;
\item Dichiarazioni di classi e interfacce.
\end{itemize}
\subsection{Commenti iniziali}
Tutti i file sorgente dovranno inziare con un commento che elenca il nome della classe, informazioni sulla versione e la data dell'ultima modifica come nell'esempio: \\
 \newline
\texttt{/* \newline
* Nome classe \newline
* \newline
* Informazioni Versione \newline
* \newline
* Data Ultima Modifica \newline
*/ \\}
 \newline
\subsection{Statements di Package e di Import}
La prima linea non di commento di un file dovr\`a essere uno statement di Package. Seguiranno poi gli statement di import come nell'esempio: \\
 \newline
\texttt{package java.awt; \\ 
import org.w3c.dom; \\}
Tutti i package e import dovranno essere scritti in minuscolo.
\subsection{Dichiarazioni di Classi e di Interfacce}
Prima di tutto verranno dichiarate le varibili statiche nel seguente ordine: pubbliche, protette, quelle a livello package e poi le private. Successivamente le variabili di istanza sempre nello stesso ordine. Solo infine i costruttori seguiti dai metodi. I metodi dovranno essere raggrupati secondo la funzionalit\`a e non secondo l'accessibilit\`a. I nomi delle classi dovranno essere al singolare e iniziare con la lettera maiuscola.
\subsection{Variabili}
Dovranno essere scritte al singolare e in minuscolo. Nel caso di un nome di variabile composto da pi\`u parole, la prima lettera delle parole verr\`a scritta in maiuscolo, ad eccezione della prima parola che sar\`a sempre in minuscolo (compresa la prima lettera). \newline
Esempio: dataNascita \newline
Le variabili non dovranno avere ambiguit\`a nei nomi.
\subsection{Metodi}
Seguono lo stesso standard adottato per le variabili.

\section{Indentazione}
Come unit\`a di indentazione dovranno essere usati 4 spazi.
\subsection{Lunghezza della linea}
Una linea di codice non dovr\`a superare 80 caratteri.
\subsection{Interruzione delle linee}
Quando un'espressione non sta su una singola linea, la si dovr\`a interrompere seguendo le seguenti regole:
\begin{itemize}
\item Interruzione dopo una virgola;
\item Interruzione prima di un operatore;
\item La nuova linea dovr\`a essere allineata con l'inizio dell'espressione allo stesso livello nella linea precedente;
\item Se le regole suddette portano a codice confuso oppure a codice che è troppo a ridosso del margine destro si dovr\`a invece usare una indentazione con 8 spazi.
\end{itemize}


\section{Commenti}
Ci potranno essere due tipi di commenti: di documentazione e di implementazione. Quest'ultimi possono essere a loro volta suddivisi in: commenti a blocco, a linea singola e commenti alla fine della linea.
\begin{itemize}
\item I commenti di implementazione, delimitati da \texttt{/*...*/} e \texttt{//}, sono commenti riguardanti il codice nell'ottica della sua particolare implementazione.
\item I commenti di documentazione, delimitati da \texttt{/**...*/}, descrivono la specifica del codice astraendo dall'implementazione.
\end{itemize}
\subsection{Commenti a blocco}
I commenti a blocco dovranno essere usati per descrivere files, metodi, strutture dati e algoritmi. Dovranno essere usati all'inizio di ogni file e prima di ogni metodo; potranno inoltre essere usati anche in altre parti del file (ad esempio all'interno di un metodo). All'interno di una funzione o di un metodo dovranno essere indentati allo stesso livello del codice che descrivono. Questo commento dovr\`a inoltre essere preceduto da una linea bianca per poterlo separare dal resto del codice. \\
 \newline
Esempio: \\
\texttt{
	/* \newline
	* Questo è un commento a blocco \newline
	*/
} \\
 \newline
\subsection{Commenti a linea singola}
Questi commenti dovranno apparire in una linea singola ed essere usati per brevi commenti, indentandoli al livello del codice che segue. Se un commento non pu\`o essere scritto su una linea singola allora si dovr\`a usare un commento a blocco. Dovr\`a essere preceduto da una linea bianca. \\
 \newline
Esempio: \\
\texttt{
	if (condition) \{ \\
	\phantom{....}/* Handle the condition. */ \\
	\phantom{....}...... \\
	\}
} \\
 \newline
\subsection{Commenti alla fine della linea}
Il delimitatore di commento ``\texttt{//}'' potr\`a commentare una linea completa oppure solo una parte di essa. Non dovr\`a essere utilizzato su linee consecutive per commenti di testo. Potr\`a per\`o essere utilizzato su linee consecutive per eliminare (commentando) sezioni di codice.
\subsection{Commenti di documentazione}
I commenti di documentazione dovranno descrivere classi, interfacce, costruttori, metodi e campi dato. Ogni commento di documentazione dovr\`a essere situato all'interno dei delimitatori \texttt{/**...*/}. Ci dovr\`a essere un solo commento per ogni classe, interfaccia o membro. Non dovranno inoltre essere posizionati all'interno del blocco di definizione di un metodo o di un costruttore. Questo tipo di commento dovr\`a apparire subito prima della dichiarazione:\\
 \newline
Esempio:\\
 \newline
\texttt{
	/** \newline
	* Commento di documentazione \newline
	*/ \\
	public class Esempio \{ \\
	\phantom{....}....... \\
	\}
	\\
}
 \newline
\section{Dichiarazioni}
Per facilitare i commenti ci dovr\`a essere una sola dichiarazione per linea. Non si dovranno mettere tipi differenti sulla stessa linea. Le variabili locali dovranno essere inizializzate dove sono dichiarate se ci\`o \`e possibile. Le dichiarazioni dovranno essere posizionate solamente all'inizio dei blocchi di codice. L'unica eccezione che potr\`a essere fatta è per gli indici dei cicli for; in questo caso la dichiarazione potr\`a essere fatta nello statement del ciclo for. Non ci dovranno inoltre essere dichiarazioni che rendono invisibili altre dichiarazioni a livello pi\`u alto; non si dovr\`a in pratica usare un nome di variabile gi\`a usato in un blocco soprastante.
\subsection{Dichiarazioni di Classi o di Interfacce}
Nella codifica di classi ed interfacce dovranno essere seguite le seguenti regole:
\begin{itemize}
\item Non ci dovranno essere spazi tra il nome di un metodo e le parentesi che apre la sua lista dei parametri;
\item La parentesi graffa che apre un blocco di codice dovr\`a apparire alla fine della stessa linea dello statement di dichiarazione;
\item La parentesi graffa che chiude un blocco di codice dovr\`a apparire su una linea singola a s\`e stante, indentata in modo da potersi allineare alla corrispondente parentesi di apertura del blocco, ad eccezione del caso in cui lo statement sia vuoto;
\item La parentesi di chiusura apparir\`a subito dopo quella di apertura;
\item I metodi dovranno essere separati da una linea bianca.
\end{itemize}

\section{Statements}
\subsection{Statements semplici}
Ogni linea dovr\`a contenere un solo statement, per facilitare la lettura e la comprensione del codice, nonch\`e la sua commentazione.
\subsection{Statements Composti}
Uno statement composto conterr\`a una lista di statements racchiusi tra parentesi graffe. Per gli statements composti valgono le seguenti regole:
\begin{itemize}
\item Il livello di indentazione di ogni statement racchiuso tra parentesi grafe deve essere aumentato di uno rispetto al livello dello statement che lo contiene.
\item La parentesi graffa di apertura deve essere alla fine della linea che inizia lo statement composto; la parentesi graffa di chiusura deve essere l'unico carattere di una linea indentata corrispondentemente all'inizio dello statement composto.\newline
\end{itemize}
Ad esempio:\newline
	\newline
	\texttt{
	statementComposto \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\phantom{....}.... \\
	\}
} \\
 \newline
Le parentesi dovranno essere usate per racchiudere l'elenco degli statement, anche se ve ne fosse uno solo.
\subsection{Statements di Return}
Uno statement di return non dovr\`a usare parentesi a meno che ci\`o non renda il valore di ritorno in qualche maniera pi\`u ovvio.
\subsection{Statements if, if-else}
Gli statement del tipo if-else dovranno avere la seguente forma:\\
\texttt{
	 \newline
	if (condizioni) \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
	\\
	\newline
	\newline
	if (condizioni) \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} else \{\\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
	\\
	\newline
}
Da notare che gli statement if devono sempre usare le parentesi graffe.
\subsection{Statements for}
Uno statement for dovr\`a avere la seguente forma: \newline
\texttt{
	 \newline
	for (inizializzazioni; condizioni; incrementi)\{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
}
\subsection{Statements while e do-while}
Uno statement while dovr\`a avere la seguente forma:\newline
\texttt{
	 \newline
	while (condizioni)\{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
}\newline
 \newline
Uno statement do-while deve avere la seguente forma: \newline
\texttt{
	 \newline
	do \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} while (condizioni)
}
\subsection{Statements switch case}
Uno statement switch dovr\`a avere la seguente forma:\newline
\texttt{
	 \newline
	switch (condizioni) \{ \\
	case A:\\
	\phantom{....}statement;\\
	\phantom{....}...\\
	\phantom{....}break:\\
	case B:\\
	\phantom{....}statement;\\
	\phantom{....}...\\
	\phantom{....}break:\\
	default:\\
	\phantom{....}statement;\\
	\phantom{....}...\\
	\phantom{....}break:\\
	\}
}\newline
 \newline
Ogni statement switch deve includere un caso di default.
\subsection{Statements try-catch}
Uno statement try-catch dovr\`a avere il seguente formato:\newline
\texttt{
	 \newline
	try \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} catch (ExceptionClass e) \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} finally \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
}

\section{Linee e spazi bianchi}
Le linee bianche dovranno essere utilizzate per migliorare la leggibilit\`a del codice. Nei seguenti casi dovranno sempre essere usate due linee bianche:
\begin{itemize}
\item Tra sezioni di un file sorgente;
\item Tra definizioni di classi ed interfacce.
\end{itemize}
Nei seguenti casi dovr\`a essere invece usata una una sola linea bianca:
\begin{itemize}
\item Tra metodi;
\item Tra le variabili locali in un metodo e il suo primo statement;
\item Prima di un commento a blocco o un commento a linea singola;
\item Tra sezioni logiche all'interno di un metodo in modo da migliorare la leggibilit\`a.
\end{itemize}
Nelle seguenti situazioni dovranno essere usati spazi bianchi:
\begin{itemize}
\item Una parola chiave seguita da una parentesi dovr\`a essere separata da uno spazio bianco. Da notare che uno spazio bianco non deve essere usato tra il nome di un metodo e la sua parentesi di apertura;
\item Uno spazio bianco dovr\`a apparire dopo le virgole nelle liste degli argomenti;
\item Tutti gli operatori binari ad eccezione di “.” dovranno essere separati dagli operandi con spazi bianchi;
\item Le espressioni in uno statement for dovranno essere separate da spazi bianchi.
\end{itemize}

\section{Standard di denominazione di entit\`a e relazioni}
\subsection{Entit\`a}
Le entit\`a componenti il ``BR-jsys'' verranno identificate usando una notazione al singolare, in carattere minuscolo e con l'iniziale di ogni parola in maiuscolo. Il nome dei campi dato e dei metodi verranno descritti con la stessa notazione, ad eccezione del primo carattere della prima parola che compare in carattere minuscolo.
\subsection{Relazioni}
Le relazioni verranno descritte in minuscolo, utilizzando il nome della tabella da cui se ne prende l'ID preceduto da ``fk\_''.

\end{document}

