\documentclass[11pt,titlepage,a4paper]{report}

%INCLUSIONE PACCHETTI
%---------------------------------------------
\usepackage[italian]{babel}
\usepackage{fancyhdr}
\usepackage{graphicx}
\graphicspath{{./pics/}} % cartella di salvataggio immagini

% STILE DI PAGINA
%---------------------------------------------
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\lhead{\nouppercase{\rightmark}}
\rhead{\nouppercase{\leftmark}}
\renewcommand{\chaptermark}[1]{%
\markboth{\thechapter.\ #1}{}}

%Ridefinisco lo stile plain della pagina
\fancypagestyle{plain}{%
	\lhead{\includegraphics[height=50pt]{logo.eps}}
	\chead{}
	\rhead{HappyCode inc \\ happycodeinc@gmail.com}
	\lfoot{BR-jsys}
	\cfoot{\thepage}
	\renewcommand{\headrulewidth}{1pt}
	\renewcommand{\footrulewidth}{1pt}
}

\begin{document}

%definizione variabili 
\newcommand{\lv}{1.7 } % latest version
%fine definizione variabili



\hyphenation{glos-sa-rio es-pli-ci-to ve-ri-fi-ca-re re-po-si-to-ry se-gna-la-ta coe-ren-za}
\begin{titlepage}
\begin{center}
\vspace*{0.5in}
\includegraphics{logo.eps}
\vspace*{0.2in}

{\Large \textbf{BR-jsys}}
{\Large \emph{business rules} per sistemi gestionali in architettura J2EE } 
\vspace{2in}

\LARGE \textbf {NORME DI PROGETTO}
\par\rule{10cm}{0.4pt} \par {\large Versione \lv - \today}


\end{center}
\end{titlepage}
\vspace*{0.5in}


\begin{center}
\thispagestyle{plain}
\begin{table}[htbp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Capitolato: ''BR-jsys``}}} \\
\begin{tabular}{||p{6cm}||p{6cm}||}
\hline
\textbf{Data creazione:} & 12/11/07 \\
\hline
\textbf{Versione:} & \lv \\ \hline
% ----------------------------------------------------------------------------autori
\textbf{Stato del documento:} & Formale ad uso Interno \\ \hline
\textbf{Redazione:} & Filippo Carraro \\ \hline
\textbf{Revisione:} & Marco Tessarotto \\ \hline
\textbf{Approvazione:}  & Elena Trivellato\\ \hline
\end{tabular} \\
\end{tabular}
}
\end{table}

\begin{table}[hbtp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Lista di distribuzione}}} \\
\begin{tabular}{||p{6cm}||p{6cm}||} \hline
%  -------------------------------------------------------------lista di distribuzione
{Tutta la HappyCode inc}& Gruppo di lavoro \\ \hline
\end{tabular} \\
\end{tabular}
}
\end{table}

\begin{table}[hbtp]
\large{
\begin{tabular}{l}
\Large{\textbf{\textsf{Diario delle modifiche}}} \\
\begin{tabular}{||p{2cm}||p{3.5cm}||p{6cm}||}
\hline
\textbf{Versione} & \textbf{Data rilascio} & \textbf{Descrizione} \\ \hline
1.8 & 31/01/2008 & Riorganizzazione dei capitoli. \\ \hline
1.7 & 30/01/2008 & Modifica al layout degli esempi.\\ \hline
1.6 & 30/01/2008 & Aggiunta del capitolo 'Linee e spazi bianchi'\\ \hline
1.5 & 28/01/2008 & Aggiunta del capitolo 'Dichiarazioni'\\ \hline
1.4 & 25/01/2008 & Aggiunta dei capitoli 'Indentazione' e 'Commenti'\\ \hline
1.3 & 24/01/2008 & Aggiunta del capitolo 'File Java'\\ \hline
1.2 & 23/01/2008 & Aggiunta del capitolo 'Condivisione, archiviazione e versionamento dei file'\\ \hline
1.1 & 22/01/2008 & Modifica al layout dei documenti.\\ \hline
1.0 & 21/12/2007 & Documento sottoposto a revisionamento automatico.\\ \hline
0.3 & 03/12/2007 & Revisione del documento. Modifiche al Comportamento generale e all'uso dello spazio web in Google Groups. \\ \hline
0.2 & 26/11/2007 & Revisione del documento. Correzione errori ortografici. \\ \hline
0.1 & 12/11/2007 & Stesura preliminare delle norme per i documenti. \\ \hline
\end{tabular} \\
\end{tabular}

}
\end{table}
\end{center}


\newpage
\tableofcontents 

\chapter{Introduzione}
\section{Scopo del documento}
Questo documento ha lo scopo di fornire una lista di norme generali sia per il comportamento dei vari membri del gruppo, sia per la stesura di tutta la documentazione interna ed esterna. L'obiettivo \`e quello di fissare delle norme di codifica ben precise, in modo da poter migliorare la leggibilit\`a del codice e facilitarne la comprensione. Tutti i componenti del gruppo devono attenersi a tali regole.
\section{Riferimenti}
\begin{itemize}
\item ``Ingegneria del software'' 8a edizione - Ian Sommerville 
\item Molte delle norme di codifica sono state scritte riferendosi alle convenzioni sul codice java della Sun Microsystems.
\end{itemize}
\section{Glossario}
Il glossario viene fornito come file esterno chiamato \textbf {Glossario\_0\_4.pdf} 



\chapter{Norme di Comportamento}
\section{Uso della Mail del Gruppo}
La mail verr\`a utilizzata principalmente come mezzo di comunicazione e di informazione tra i vari componenti del gruppo. In particolare per ricordare scadenze, segnalare risorse utili e pianificare gli incontri. 
\section{Uso dello spazio web in Google Groups}
Lo spazio web in Google Groups raggiungibile tramite il seguente URL: \({http://groups.google.com/group/happycodeinc}\), riservato ai soli membri del gruppo, i quali possono accedervi dopo essersi autenticati sul proprio account gmail, verr\`a usato per:
\begin{itemize}
\item Gestione di discussioni su argomenti non chiari o su possibili modifiche ai documenti;
\item Esposizione, tramite discussioni, di dubbi sulla correttezza dei documenti;
\item Aggiunta di pagine statiche contenenti risorse pertinenti i linguaggi utilizzati.
\end{itemize}
\section{Comportamento Generale}
Ad ogni componente del gruppo verr\`a richiesto di partecipare alla stesura dei documenti nella parte che pi\`u li compete. Il documento verr\`a poi trascritto all'interno del modello latex. Ogni documento deve poi essere caricato  su svn, sia in formato tex sia in formato pdf.
\section{Condivisione, archiviazione e versionamento dei file}
Per gestire il lavoro collaborativo di pi\`u componenti del gruppo in contemporanea sullo stesso documento utilizzeremo SVN (Subversion) che permette la sincronizzazione delle versioni. In questo modo, ogni aggiornamento del documento inviato al repositoty (l'archivio di dati centralizzato gestito direttamente da SVN) rappresenter\`a una nuova revisione. SVN applicher\`a ad ogni modifica un numero identificativo incrementale da 1 a infinito. Attraverso il comando ``commit'' ogni componente del gruppo potr\`a inviare al repository il documento che ha appena modificato in locale (ossia la working copy). Viceversa, ``update'' \`e la fase di download della versione aggiornata del repository con aggiornamento della propria working copy. 



\chapter{Norme di Documento}
\section{Nomenclatura}
In questo capitolo verranno illustrate le norme per la nomenclatura di file sorgente e di testo. I nomi dei file dovranno essere significativi rispetto al loro contenuto. Inoltre:
\begin{itemize}
\item Potranno essere usati solo caratteri dell'alfabeto inglese dalla ``a'' alla ``z'' , minuscole e maiuscole;
\item Non dovranno essere utilizzati catteri speciali;
\item Non dovranno essere utilizzati catteri accentati;
\item I nomi utilizzati non dovranno contenere spazi;
\item Se il nome da utilizzare \`e composto da piu' parole, queste dovranno essere disposte come in questo esempio: \\
``EsempioDiNomeFile''
\item Alla fine del nome del file dovr\`a esserci un codice per la versione del documento nella forma :\\ 
``\_a\_b'' \\
dove:\\
a=versione.\\
b=revisione.\\
\begin{itemize}
\item[-]La versione, numero intero che parte da 0, verr\`a aggiornata, incrementandola, ogni volta che verr\`a aggiunta una nuova sezione al documento che tratta argomenti non presenti nel documento.
\item[-]La revisione, numero intero che parte da 1, verr\`a incrementata ogni volta che il documento verr\`a modificato e corretto, ma solo negli argomenti gi\`a presenti.
\end{itemize} 
Esempio di un nome corretto:\\
``NormeDiProgetto\_0\_1''
\end{itemize}
\section{Impaginazione documenti}
Questa seziona descriver\`a l'impaginazione dei documenti ad uso interno ed esterno. Di seguito verr\`a fornita la lista delle regole da seguire per la corretta stesura di un documento.
\subsection{Struttura documento}
Ogni documento sar\`a composto di queste parti:
\begin{enumerate}
\item Una prima pagina con il logo dell'azienda, titolo del documento, versione e data ultima modifica;
\item Una seconda parte composta da tre tabelle contenti:
	{\begin{itemize}
	\item Data creazione (anno,mese,giorno),versione,stato del documento,\\
			redazione,revisione,approvazione.
	\item Lista di Distribuzione
	\item Diario delle modifiche 
	\end{itemize}}
\item L'indice dei contenuti;
\item I contenuti del documento;
\end{enumerate}
\`E fornito un modello di documento generale Modello.tex, nel quale sono state applicate le regole date precedentemente. E' consigliato quindi l'aggiornamento dello stesso, aggiungendo e modificando solo i capitoli necessari.
\subsection{Intestazione/Pi\`e di pagina}
L'intestazione e il pi\`e di pagina verranno generati automaticamente corretti dal file .tex con i relativi loghi, il numero della pagina e i titoli dei capitoli.
\subsection{Corpo del documento}
\subsubsection{Carattere Testo e Titoli}
Il carattere dei documenti e dei titoli sar\`a quello di default, scelto nel modello iniziale. Solo il titolo del documento dovr\`a essere messo tutto in maiuscolo. Si dovr\`a sottostare a tali scelte, che inoltre rendono il tutto pi\`u leggibile e facile da usare. 
\subsubsection{Immagini}
Le immagini inserite nel corpo del documento dovranno essere necessariamente salvate nella cartella pics. Tutte le immagini inoltre contenute nei pdf dovranno essere in formato vettoriale eps.
\section{Norme di Glossario}
Il glossario verr\`a fornito in un documento chiamato \textbf{ Glossario\_a\_b.pdf}; dove ``a'' indica il numero di versione e ``b'' il numero di revisione, come descritto sopra.





\chapter{Norme di codifica}
\section{File sorgente}
Ogni file sorgente dovr\`a contenere una sola classe pubblica o interfaccia. I file sorgente dovranno avere il seguente ordine:
\begin{itemize}
\item Commenti iniziali;
\item Statements di Import e dichiarazioni di Package;
\item Dichiarazioni di classi e interfacce.
\end{itemize}
\subsection{Commenti iniziali}
Tutti i file sorgente dovranno inziare con un commento in stile C che elenca il nome della classe, informazioni sulla versione e la data dell'ultima modifica come nell'esempio: \\
 \newline
\texttt{/* \newline
* Nome classe \newline
* \newline
* Informazioni Versione \newline
* \newline
* Data Ultima Modifica \newline
*/ \\}
 \newline
\subsection{Statements di Package e di Import}
La prima linea non di commento di un file dovr\`a essere uno statement di Package. Seguiranno poi gli statement di import come nell'esempio: \\
 \newline
package java.awt; \\ % DOBBIAMO METTERE UN PACCHETTO VERO NOSTRO!!!!!!!!!!
import org.w3c.dom; \\
\subsection{Dichiarazioni di Classi e di Interfacce}
Prima di tutto verranno dichiarate le varibili statiche nel seguente ordine: pubbliche, protette, quelle a livello package e poi le private. Successivamente le variabili di istanza sempre nello stesso ordine. Solo infine i costruttori seguiti dai metodi. I metodi dovranno essere raggrupati secondo la funzionalit\`a e non secondo l'accessibilit\`a.


\section{Indentazione}
Come unit\`a i indentazione dovranno essere usati 4 spazi.
\subsection{Lunghezza della linea}
Una linea di codice non dovr\`a superare 80 caratteri.
\subsection{Interruzione delle linee}
Quando un'espressione non sta su una singola linea, la si dovr\`a interrompere seguendo le seguenti regole:
\begin{itemize}
\item Interruzione dopo una virgola;
\item Interruzione prima di un operatore;
\item La nuova linea dovr\`a essere allineata con l'inizio dell'espressione allo stesso livello nella linea precedente;
\item Se le regole suddette portano a codice confuso oppure a codice che è troppo a ridosso del margine destro si dovr\`a invece usare una indentazione con 8 spazi.
\end{itemize}


\section{Commenti}
Ci potranno essere due tipi di commenti: di documentazione e di implementazione. Quest'ultimi possono essere a loro volta suddivisi in: commenti a blocco, a linea singola e commenti alla fine della linea.
\begin{itemize}
\item I commenti di implementazione, delimitati da \texttt{/*...*/} e \texttt{//}, sono commenti riguardanti il codice nell'ottica della sua particolare implementazione. 
\item I commenti di documentazione, delimitati da \texttt{/**...*/}, descrivono la specifica del codice astraendo dall'implementazione.
\end{itemize}
\subsection{Commenti a blocco}
I commenti a blocco dovranno essere usati per descrivere files, metodi, strutture dati e algoritmi. Dovranno essere usati all'inizio di ogni file e prima
di ogni metodo; potranno inoltre essere usati anche in altre parti del file (ad esempio all'interno di un metodo). All'interno di una funzione o di un metodo dovranno essere indentati allo stesso livello del codice che descrivono. Questo commento dovr\`a inoltre essere preceduto da una linea bianca per poterlo separare dal resto del codice. \\
 \newline
Esempio: \\
\texttt{/* \newline
* Questo è un commento a blocco \newline
 */ } \\
 \newline
\subsection{Commenti a linea singola}
I commenti a linea singola dovranno apparire in una linea singola ed essere usati per brevi commenti, indentandoli al livello del codice che segue. Se un commento non pu\`o essere scritto su una linea singola allora si dovr\`a usare un commento a blocco. Un commento a singola linea dovr\`a essere preceduto da una linea bianca. \\
 \newline
Esempio: \\
\texttt{
if (condition) \{ \\
\phantom{....}/* Handle the condition. */ \\
\phantom{....}...... \\
\}} \\
 \newline
\subsection{Commenti alla fine della linea}
Il delimitatore di commento ``\texttt{//}'' potr\`a commentare una linea completa oppure solo una parte di essa. Non dovr\`a essere utilizzato su linee consecutive per commenti di testo. Potr\`a per\`o essere utilizzato su linee consecutive per eliminare (commentando) sezioni di codice.
\subsection{Commenti di documentazione}
I commenti di documentazione dovranno descrivere classi, interfacce, costruttori, metodi e campi dato. Ogni commento di documentazione dovr\`a essere situato all'interno dei delimitatori \texttt{/**...*/}. Ci dovr\`a essere un solo commento per ogni classe, interfaccia o membro. Non dovranno inoltre essere posizionati all'interno del blocco di definizione di un metodo o di un costruttore. Questo tipo di commento dovr\`a apparire subito prima della dichiarazione:\\
 \newline
Esempio:\\
 \newline
\texttt{/** \newline
* Commento di documentazione \newline
 */ \\
public class Esempio \{ \\
\phantom{....}....... \\
\}} \\
 \newline
\section{Dichiarazioni}
Per facilitare i commenti ci dovr\`a essere una sola dichiarazione per linea. Non si dovranno mettere tipi differenti sulla stessa linea. Le variabili locali dovranno essere inizializzate dove sono dichiarate se ci\`o \`e possibile. Le dichiarazioni dovranno essere posizionate solamente all'inizio dei blocchi di codice. L'unica eccezione che potr\`a essere fatta è per gli indici dei cicli for; in questo caso la dichiarazione potr\`a essere fatta nello statement del ciclo for. Non ci dovranno inoltre essere dichiarazioni che rendono invisibili altre dichiarazioni a livello più alto; non si dovr`a in pratica usare un nome di variabile già usato in un blocco sopra stante.
\subsection{Dichiarazioni di Classi o di Interfacce}
Nella codifica di classi ed interfacce dovranno essere seguite le seguenti regole:
\begin{itemize}
\item Non ci dovranno essere spazi tra il nome di un metodo e le parentesi che apre la sua lista dei parametri;
\item La parentesi graffa che apre un blocco di codice dovr\`a apparire alla fine della stessa linea dello statement di dichiarazione;
\item La parentesi graffa che chiude un blocco di codice dovr\`a apparire su una linea singola a sé stante, indentata in modo da poter corrispondere la corrispondente parentesi di apertura del blocco, ad eccezione del caso quando lo statement è vuoto nel qual caso;
\item La parentesi di chiusura apparir\`a subito dopo quella di apertura;
\item I metodi dovranno essere separati da una linea bianca.
\end{itemize}

\section{Statements}
\subsection{Statements semplici}
Ogni linea dovr\`a contenere un solo statement, per facilitare la lettura e la comprensione del codice, nonch\`e la sua commentazione.
\subsection{Statements Composti}
Uno statement composto conterr\`a una lista di statements racchiusi tra parentesi graffe. Per gli statements composti valgono le seguenti regole:
\begin{itemize}
\item Il livello di indentazione di ogni statement racchiuso tra parentesi grafe deve essere aumentato di uno rispetto al livello dello statement che lo contiene.
\item La parentesi graffa di apertura deve essere alla fine della linea che inizia lo statement composto; la parentesi graffa di chiusura deve essere l'unico carattere di una linea indentata corrispondentemente all'inizio dello statement composto.\newline
\end{itemize}
Ad esempio:\newline
 \newline
\texttt{
statementComposto \{ \\
\phantom{....}statement;\\
\phantom{....}... \\
\phantom{....}.... \\
\}
} \\
 \newline
Le parentesi dovranno essere usate per racchiudere l'elenco degli statement, anche se ve ne fosse uno solo.
\subsection{Statements di Return}
Uno statement di return non dovr\`a usare parentesi a meno che ci\`o non renda il valore di
ritorno in qualche maniera pi\`u ovvio.
\subsection{Statements if, if-else}
Gli statement del tipo if-else dovranno avere la seguente forma:\\
\texttt{
	 \newline
	if (condizioni) \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
	\\
	\newline
	\newline
	if (condizioni) \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} else \{\\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
	\\
	\newline
}
Da notare che gli statement if devono sempre usare le parentesi graffe.
\subsection{Statements for}
Uno statement for dovr\`a avere la seguente forma: \newline
\texttt{
	 \newline
	for (inizializzazioni; condizioni; incrementi)\{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
}
\subsection{Statements while e do-while}
Uno statement while dovr\`a avere la seguente forma:
\texttt{
	 \newline
	while (condizioni)\{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\}
}
Uno statement do-while deve avere la seguente forma: \newline
\texttt{
	 \newline
	do \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} while (condizioni)
}
\subsection{Statements switch case}
Uno statement switch dovr\`a avere la seguente forma:
\texttt{
	 \newline
	switch (condizioni) \{ \\
	\phantom{....}statement;\\
	\phantom{....}... \\
	\} while (condizioni)
}
 Ogni statement switch deve includere un caso di default.
\subsection{Statements try-catch}
Uno statement try-catch dovr\`a avere il seguente formato:


\section{Linee e spazi bianchi}
Le linee bianche dovranno essere utilizzate per migliorare la leggibilit\`a del codice. Nei seguenti casi dovranno sempre essere usate due linee bianche:
\begin{itemize}
\item Tra sezioni di un file sorgente;
\item Tra definizioni di classi ed interfacce.
\end{itemize}
Nei seguenti casi dovr\`a essere invece usata una una sola linea bianca:
\begin{itemize}
\item Tra metodi;
\item Tra le variabili locali in un metodo e il suo primo statement;
\item Prima di un commento a blocco o un commento a linea singola;
\item Tra sezioni logiche all'interno di un metodo in modo da migliorare la leggibilità.
\end{itemize}
Nelle seguenti situazioni dovranno essere usati spazi bianchi:
\begin{itemize}
\item Una parola chiave seguita da una parentesi dovr\`a essere separata da uno spazio bianco. Da notare che uno spazio bianco non deve essere usato tra il nome di un metodo e la sua parentesi di apertura;
\item Uno spazio bianco dovr\`a apparire dopo le virgole nelle liste degli argomenti;
\item Tutti gli operatori binari ad eccezione di “.” dovranno essere separati dagli operandi con spazi bianchi;
\item Le espressioni in uno statement for dovranno essere separate da spazi bianchi.
\end{itemize}

\end{document}

